{"version":3,"sources":["components/Home.js","utilities/token.js","utilities/api.js","components/Register.js","components/routine.js","components/Routines.js","components/Login.js","components/Header.js","index.js"],"names":["Home","id","to","SECURE_TOKEN","grabToken","localStorage","getItem","saveToken","token","setItem","deleteToken","removeItem","makeRequest","path","method","data","a","handleToken","defaultHeaders","console","log","options","headers","body","JSON","stringify","fetch","response","json","responseData","Register","useHistory","useState","username","password","user","setUser","passwordConfirm","setPasswordConfirm","handleInput","event","userKey","target","attributes","value","newState","preventDefault","length","alert","createServerToken","onSubmit","type","required","name","onChange","placeholder","pass","getAttribute","routine","goal","creatorName","activities","Routines","routineList","setRoutineList","useEffect","api","error","routineElement","map","index","Login","setSavedToken","history","userLogin","push","storeServerToken","Header","isLoggedIn","setToken","className","onClick","e","TokenUtilities","removeToken","App","savedToken","setIsLoggedIn","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.12bda79d.chunk.js","sourcesContent":["import React from 'react';\nimport App from '../index';\nimport { Link } from 'react-router-dom';\n\nconst Home = () => {\n    return (\n    <div id=\"App\">\n        <h1>Welcome to Fitness.Trackr!</h1>\n        <p>Returning user?<Link to=\"/login\"> Login Here!</Link></p>\n        <p>First time here?<Link to=\"/register\"> Register Here!</Link></p>\n        <p>Take a look at some of the routines our users have made! <Link to=\"/routines\"> Click here! </Link></p>\n    </div>\n    )\n};\n\nexport default Home;","const SECURE_TOKEN = \"SecureToken\";\n\nexport default {\n    grabToken: function() {\n        return localStorage.getItem(SECURE_TOKEN);\n    },\n\n    saveToken: function(token) {\n        localStorage.setItem(SECURE_TOKEN, token);\n    },\n\n    deleteToken: function() {\n        localStorage.removeItem(SECURE_TOKEN);\n    }\n}","const BASE_URL = 'https://fitnesstrac-kr.herokuapp.com/api'\nimport handleToken from './token';\n\nexport default {\n    makeRequest: async function(path, method, data) {\n        const token = handleToken.grabToken();\n        const defaultHeaders = {\n            'Content-Type': 'application/json'\n        }\n        if (token){\n            defaultHeaders['Authorization'] = `Bearer ${token}`;\n            console.log(defaultHeaders)\n        }\n        const options = {\n            method,\n            headers: defaultHeaders\n        }\n        if (data) {\n            options.body = JSON.stringify(data);\n        }\n        const response = await fetch(BASE_URL + path, options);\n        console.log(response)\n        const responseData = await response.json();\n        console.log(responseData);\n        return responseData;\n    }\n}","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport API from '../utilities/api';\nimport TokenUtilities from '../utilities/token';\n\nconst Register = () => {\n    let history = useHistory();\n    const [user, setUser] = useState({username: '', password: ''}); \n    const [passwordConfirm, setPasswordConfirm] = useState({passwordConfirm: ''});\n    \n    async function storeToken() {\n        try {\n            debugger\n            const data = await API.makeRequest('/users/register', 'POST', user);\n            console.log(data);\n            TokenUtilities.saveToken(data.token);\n        } catch (error) {\n            console.log(error);\n        } finally {\n            history.push('/');\n        }\n    };\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        storeToken();\n    };\n\n    function handleInput(event) {\n        const userKey = event.target.attributes['name'].value;\n        const newState = {...user};\n        newState[userKey] = event.target.value;\n        setUser(newState);\n        console.log(user, setUser)\n    };\n\n    function handleConfirmInput(event) {\n        let pass = event.target.getAttribute('name');\n        console.log(pass);\n        const passwordConfirm = event.target.attributes['name'].value;\n        const newState = { ...passwordConfirm};\n        newState[passwordConfirm] = event.target.value;\n        setPasswordConfirm(newState);\n\n    };\n\n        async function onSubmit(event) {\n        event.preventDefault();\n        console.log(user.username);\n        if (user.username.length < 1 || user.password.length < 1) {\n            alert('username/Password must not be empty');\n        }\n        else if (user.username.length < 5 || user.password.length < 5) {\n            alert('username/Password must be longer than 5 characters');\n        }\n        else if (user.username.length > 15 || user.password.length > 15) {\n            alert('username/Password must be less than 16 characters');\n        }\n        else if (user.password !== passwordConfirm.passwordConfirm) {\n            alert('Password must be the same in both fields');\n        }\n        else {\n            createServerToken();\n        }};\n\n    return (\n        <div>\n            <form onSubmit={handleSubmit, onSubmit}>\n                <input type='text'\n                        required\n                        name='username'\n                        value={user.username}\n                        onChange={handleInput}\n                        placeholder='username'/>\n                <input type='password'\n                        required\n                        name='password'\n                        value={user.password}\n                        onChange={handleInput}\n                        placeholder='password'></input>\n                <input type='password-confirmation'\n                        required\n                        name='password-confirmation'\n                        value={passwordConfirm.passwordConfirm}\n                        onChange={handleConfirmInput}\n                        placeholder='password-confirmation'></input>\n                <button>Register</button>\n            </form>\n        </div>\n    )\n};\n\nexport default Register;","import React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport API from '../utilities/api';\n\nconst routine = ({ name, goal, creatorName, activities}) => {\n\n    const [updateRoutine, setUpdateRoutine] = useState({});\n\n    function handleUpdate(e) {\n        setUpdateRoutine(e.target.value)\n    };\n\n    return (\n        <div id=\"routine\">\n            <div>\n                <h3>Routine: {name}</h3>\n                <p>Goal: {goal}</p>\n                <p>Creator: {creatorName}</p>\n                <p>Involved activities: {activities}</p>\n            </div>\n        </div>\n    )\n};\n\nexport default routine;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../utilities/api';\nimport Routine from './routine';\n\nconst Routines = () => {\n\n    const [routineList, setRoutineList] = useState([]);\n\n    useEffect(async function(){\n        try {\n            const data = await api.makeRequest('/routines', 'GET');\n            console.log(data);\n            setRoutineList(data);\n        } catch(error) {\n            console.error(error);\n          }  \n      }, []);\n      console.log(routineList)\n    const routineElement = routineList.map((routine,index) => {\n       return <Routine key={'Routine Number' + index}\n            name={routine.name}\n            goal={routine.goal}\n            creatorName={routine.creatorName}\n            activities={routine.activities}\n        />\n    });\n\n    return (\n        <div id=\"App\">\n            <h1>This is a list of all the public routines</h1>\n            <p>Want to create or update a routine? <Link to=\"/login\"> Login Here!</Link></p>\n            {routineElement}\n        </div>\n    )\n};\n\nexport default Routines;","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport api from '../utilities/api';\nimport handleToken from '../utilities/token';\n\nconst Login = ({setSavedToken}) => {\n\n    let history = useHistory();\n    const [user, setUser] = useState({username: '', password: ''});\n\n    async function storeServerToken() {\n        try {\n            const userLogin = user;\n            const data = await api.makeRequest('/users/login', 'POST', userLogin);\n            handleToken.saveToken(data.data.token);\n            setSavedToken(handleToken.grabToken());\n        } catch (error) {\n            console.error(error);\n        } finally {\n            history.push('/posts');\n        }\n    };\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        storeServerToken();\n    };\n\n    function handleInput(event) {\n        const userKey = event.target.attributes['name'].value;\n        const newState = {...user};\n        newState[userKey] = event.target.value;\n        setUser(newState);\n    };\n\n    return (\n        <div id=\"login\" >\n            <form onSubmit={handleSubmit}>\n                <input type=\"text\" \n                       required\n                       name=\"username\"\n                       value={user.username}\n                       onChange={handleInput}\n                       placeholder=\"username\" />\n                <input type=\"password\"\n                       required\n                       name=\"password\"\n                       value={user.password}\n                       onChange={handleInput}\n                       placeholder=\"password\"></input>\n                <button>Submit</button>\n            </form>\n            <p>Don't have a login? Click below to register!</p>\n            <Link to=\"/Register\">Register</Link>\n        </div>\n    )\n};\n\nexport default Login;","import React, { useState } from 'react';\nimport { Route, Link, useHistory } from 'react-router-dom';\nimport TokenUtilities from '../utilities/token';\nimport { Routines } from './Routines';\n\nconst Header = ({isLoggedIn, setToken}) => {\n    \n    function handleLogout(e) {\n        e.preventDefault();\n        TokenUtilities.removeToken();\n        setToken(null);\n    };\n\n    return (\n        <header>\n            <h1>Fitness.Trackr</h1>\n            {\n                isLoggedIn ?\n                    <nav className=\"navbar\">\n                        <Link to=\"/Home\">Home</Link>\n                        <Link to=\"/Routines\">Routines</Link>\n                        <button onClick={handleLogout}>Logout</button>\n                    </nav> :\n                    <nav className=\"navbar\">\n                        <Link to=\"/Home\">Home</Link>\n                        <Link to=\"/Routines\">Routines</Link>\n                        <Link to=\"/Login\">\n                            <button>Log in</button>\n                        </Link>\n                        <Link to=\"/Register\">\n                            <button>Register</button>\n                        </Link>\n                    </nav>\n            }\n        </header>\n    )\n};\n\nexport default Header;","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Route, Switch, Link } from 'react-router-dom';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport { Home, Register, Login, Routines, RoutineForm, Header, Activities } from '../src/components/index';\nimport  handleToken from './utilities/token';\n\nconst App = () => {\n    const [savedToken, setSavedToken] = useState(handleToken.grabToken());\n    const [isLoggedIn, setIsLoggedIn] = useState(!!savedToken);\n\n    useEffect(function() {\n        setIsLoggedIn(!!savedToken);\n    }, [savedToken]);\n\n  return (\n  <div id='App'>\n    <Header isLoggedIn={isLoggedIn} setToken={handleToken.saveToken} />\n    <nav>\n      <Link to=\"/\">Home</Link>\n      <Link to=\"/register\">Register</Link>\n      <Link to=\"/login\">Login</Link>\n      <Link to=\"/routines\">Routines</Link>\n    </nav>\n    <main>\n      <Switch> \n        <Route path=\"/register\"><Register setSavedToken={setSavedToken} /></Route>\n        <Route path=\"/login\"><Login setSavedToken={setSavedToken} /></Route>\n        <Route path=\"/\"><Home /></Route>\n        <Route path=\"/routines\"><Routines /></Route>\n      </Switch>\n    </main>\n  </div>\n  )\n}\nexport default App;\n\nReactDOM.render(\n    <Router><App /></Router>, \n    document.getElementById('App')\n);"],"sourceRoot":""}