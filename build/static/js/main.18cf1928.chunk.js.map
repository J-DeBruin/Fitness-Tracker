{"version":3,"sources":["components/Home.js","utilities/token.js","utilities/api.js","components/Register.js","components/Login.js","components/MyRoutines.js","components/Routines.js","components/Header.js","components/Activities.js","index.js"],"names":["Home","id","to","TOKEN_KEY","getToken","localStorage","getItem","storeToken","token","setItem","removeToken","removeItem","makeApiRequest","path","method","data","a","TokenUtilities","defaultHeaders","options","headers","body","JSON","stringify","fetch","response","json","responseData","Register","useHistory","useState","username","password","user","setUser","passwordConfirm","setPasswordConfirm","handleInput","event","userKey","target","attributes","value","newState","console","log","preventDefault","length","alert","createServerToken","onSubmit","type","required","name","onChange","placeholder","getAttribute","Login","setToken","history","setName","setPassword","then","result","message","catch","error","finally","push","storeServerToken","currentTarget","RoutinesPost","goal","setGoal","RoutinesList","setRoutinesList","displayForm","setdisplayForm","RoutinePost","getLocalToken","isPublic","RoutineFetch","URL","routineResponse","routines","useEffect","RemoveRoutine","routineId","deletedResponse","deleted","success","submitButton","Event","deleteButton","confirm","window","location","reload","displayTheForm","routineElements","map","routine","index","onClick","Routines","routineList","setRoutineList","api","routinesElement","creatorName","activities","activity","description","duration","count","Header","isLoggedIn","className","e","Activities","activityList","setActivityList","setActivity","setDescription","activitiesElements","i","handleChange","stateKey","App","setIsLoggedIn","saveToken","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.18cf1928.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Home = () => {\n    return (\n    <div id=\"App\">\n        <h1>Welcome to Fitness.Trackr!</h1>\n        <p>Returning user?<Link to=\"/login\"> Login Here!</Link></p>\n        <p>First time here?<Link to=\"/register\"> Register Here!</Link></p>\n        <p>Take a look at some of the routines our users have made! <Link to=\"/routines\"> Click here! </Link></p>\n    </div>\n    )\n};\n\nexport default Home;","const TOKEN_KEY = \"token\";\n\nexport default {\n    getToken: function() {\n        return localStorage.getItem(TOKEN_KEY);\n    },\n\n    storeToken: function(token) {\n        localStorage.setItem(TOKEN_KEY, token);\n    },\n\n    removeToken: function() {\n        localStorage.removeItem(TOKEN_KEY);\n    }\n}","const BASE_URL = 'https://fitnesstrac-kr.herokuapp.com/api/';\n\nimport TokenUtilities from './token';\n\nexport default {\n    makeApiRequest: async function(path, method, data) {\n        const token = TokenUtilities.getToken();\n        const defaultHeaders = {\n            'Content-Type': 'application/json'\n        }\n        if (token) {\n            defaultHeaders['authorization'] = `Bearer ${token}`;\n        }\n        const options = {\n            method,\n            headers: defaultHeaders\n        }\n        if (data) {\n            options.body = JSON.stringify(data);\n        }\n        const response = await fetch(BASE_URL + path, options);\n        const responseData = await response.json();\n        return responseData;\n    }\n}","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport API from '../utilities/api';\nimport TokenUtilities from '../utilities/token';\n\nconst Register = () => {\n    let history = useHistory();\n    const [user, setUser] = useState({username: '', password: ''}); \n    const [passwordConfirm, setPasswordConfirm] = useState({passwordConfirm: ''});\n    \n    async function storeToken() {\n        try {\n            const data = await API.makeRequest('/users/register', 'POST', user);\n            \n            TokenUtilities.saveToken(data.token);\n        } catch (error) {\n            console.log(error);\n        } finally {\n            history.push('/');\n        }\n    };\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        storeToken();\n    };\n\n    function handleInput(event) {\n        const userKey = event.target.attributes['name'].value;\n        const newState = {...user};\n        newState[userKey] = event.target.value;\n        setUser(newState);\n        console.log(user, setUser)\n    };\n\n    function handleConfirmInput(event) {\n        let pass = event.target.getAttribute('name');\n        const passwordConfirm = event.target.attributes['name'].value;\n        const newState = { ...passwordConfirm};\n        newState[passwordConfirm] = event.target.value;\n        setPasswordConfirm(newState);\n    };\n\n        async function onSubmit(event) {\n        event.preventDefault();\n        console.log(user.username);\n        if (user.username.length < 1 || user.password.length < 1) {\n            alert('username/Password must not be empty');\n        }\n        else if (user.username.length < 5 || user.password.length < 5) {\n            alert('username/Password must be longer than 5 characters');\n        }\n        else if (user.username.length > 15 || user.password.length > 15) {\n            alert('username/Password must be less than 16 characters');\n        }\n        else if (user.password !== passwordConfirm.passwordConfirm) {\n            alert('Password must be the same in both fields');\n        }\n        else {\n            createServerToken();\n        }};\n\n    return (\n        <div>\n            <form onSubmit={handleSubmit, onSubmit}>\n                <input type='text'\n                        required\n                        name='username'\n                        value={user.username}\n                        onChange={handleInput}\n                        placeholder='username'/>\n                <input type='password'\n                        required\n                        name='password'\n                        value={user.password}\n                        onChange={handleInput}\n                        placeholder='password'></input>\n                <input type='password-confirmation'\n                        required\n                        name='password-confirmation'\n                        value={passwordConfirm.passwordConfirm}\n                        onChange={handleConfirmInput}\n                        placeholder='password-confirmation'></input>\n                <button>Register</button>\n            </form>\n        </div>\n    )\n};\n\nexport default Register;\n\n\n\n","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport api from '../utilities/api';\nimport TokenUtilities from '../utilities/token';\n\nconst Login = ({setToken}) => {\n\n    let history = useHistory();\n    const [name, setName] = useState(\"\");\n    const [password, setPassword] = useState('');\n\n    function storeServerToken (username, password) {\n        fetch('https://fitnesstrac-kr.herokuapp.com/api/users/login', {\n        method: \"POST\",\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username,\n            password\n           })\n        }).then(response => response.json())\n          .then(result => {\n            localStorage.setItem('token', result.token);\n            console.log(result.message);\n            alert(result.message)\n            \n            setToken(result.token); \n            \n          })\n          .catch(error => {\n            console.error;\n            alert(error.message);\n          })\n          .finally(() => {\n            history.push('/');\n          });\n    };\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        storeServerToken();\n    };\n\n    function handleInput(event) {\n        const userKey = event.target.attributes['name'].value;\n        const newState = {...user};\n        newState[userKey] = event.target.value;\n        setUser(newState);\n    };\n\n    return (\n        <div>\n            <h2> Welcome! </h2>\n            <form onSubmit={handleSubmit}>\n                <input type=\"text\" \n                       required\n                       name=\"username\"\n                       value={name}\n                       onChange={(event) => setName(event.currentTarget.value) }\n                       placeholder=\"username\" />\n                <input type=\"password\"\n                       required\n                       name=\"password\"\n                       value={password}\n                       onChange={(event) => setPassword(event.currentTarget.value) }\n                       placeholder=\"password\"></input>\n                <button>Submit</button>\n            </form>\n            <p>If you are not a registered user, please click below to register!</p>\n            <Link to=\"/Register\">Register</Link>\n        </div>\n    )\n};\n\nexport default Login;","import React, {useState, useEffect} from 'react';\n\nconst RoutinesPost = () => {\n    const [name, setName] = useState('');\n    const [goal, setGoal] = useState('');\n    const [RoutinesList, setRoutinesList] = useState([]);\n    const [displayForm, setdisplayForm] = useState(false);\n\n    const RoutinePost = function(name, goal) {\n        const getLocalToken= localStorage.getItem('token');\n        console.log(getLocalToken)\n  \n      fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${getLocalToken}`\n        },\n        body: JSON.stringify({ name, goal, isPublic: true})\n      }).then(response => response.json())\n      .then(result => {console.log(result);})\n      .catch(() => {\n          console.error\n          alert('Try a different routine name.  This was is used already!')  \n        });\n    }\n        \n    const RoutineFetch = async function(name, goal) {\n        const getLocalToken= localStorage.getItem('token');        \n\n      try {\n        const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/users/me', {\n            method: \"GET\",\n            headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${getLocalToken}`\n            }\n        })\n        const {username} = await response.json()\n        const URL = `http://fitnesstrac-kr.herokuapp.com/api/users/${username}/routines`\n        const routineResponse = await fetch(URL, {\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${getLocalToken}`\n            }\n        });\n        const routines = await routineResponse.json();\n        setRoutinesList(routines)\n\n      } catch(error) {\n        console.error\n      }\n    }\n\n    useEffect(RoutineFetch, [])\n    \n    const RemoveRoutine = async function(routineId) {\n        const getLocalToken= localStorage.getItem('token');\n        console.log(getLocalToken)\n\n        try {\n            const URL = `http://fitnesstrac-kr.herokuapp.com/api/routines/${routineId}`\n            const deletedResponse = await fetch(URL, {\n                method: \"DELETE\",\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${getLocalToken}`\n                }\n            })\n            const deleted = await deletedResponse.json()\n            if(deleted.success) {\n                alert(`\"${deleted.name}\" has been successfully deleted\"`)\n            }\n            \n        } catch (error) {\n            console.error\n        }\n    }\n\n    const submitButton = async Event => {\n        Event.preventDefault();\n        console.log(name, goal);\n        await RoutinePost(name, goal);\n    }\n\n    const deleteButton = async Event => {\n        if (confirm('Routine will be deleted if you confirm!')) {\n            Event.preventDefault();\n            await RemoveRoutine(Event.currentTarget.value);\n            window.location.reload();\n        }\n    };\n     \n    const displayTheForm = () => {\n        setdisplayForm(!displayForm)\n    };\n\n\n    const routineElements = RoutinesList.map((routine,index) => \n        <div key={`activitiesId-${index}`}>  \n            <h2>Name: {routine.name} </h2>\n            <p>Goal: {routine.goal} </p>\n            <button value={routine.id} onClick={displayTheForm}>Edit Routine</button>\n            { displayForm && (\n                <div>\n                    <form>\n                        <div>\n                            <label>Name: </label>\n                            <input type='text' \n                                name='routinename' \n                                value={name}\n                                onChange={(event) => setName(event.currentTarget.value)} />\n                        </div>\n                        <div>\n                            <label>Goal: </label>\n                            <input type='text'\n                                name='goal'\n                                value={goal}\n                                onChange={(event) => setGoal(event.currentTarget.value)} />\n                        </div>\n                    </form>\n                </div>\n            )}\n            <button value={routine.id} onClick={deleteButton}>Delete Routine</button>\n        </div>);\n\n    return (\n        <div>\n            <div>\n                <h2>Add New Routine</h2>\n                <form onSubmit = {submitButton}>\n                    <ul>\n                        <li>Name: <input type = \"text\"  name = \"name\" id=\"name\" value={name} onChange={(event) => setName(event.currentTarget.value)}></input></li>\n                        <li>Goal: <input type = \"text\" name =\"goal\" id=\"goal\" value={goal} onChange={(event) => setGoal(event.currentTarget.value)}></input></li>\n                    </ul>\n                <button>Add A New Routine</button>\n                </form>\n            </div>\n            <h1> My Routines </h1>\n            {routineElements}\n        </div>)\n};\n\nexport default RoutinesPost;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../utilities/api';\nimport './MyRoutines';\n\nconst Routines = () => {\n\n    const [routineList, setRoutineList] = useState([]);\n\n    useEffect(async function(){\n        try {\n            const data = await api.makeApiRequest('/routines', 'GET');\n            console.log(data);\n            setRoutineList(data);\n        } catch(error) {\n            console.error(error);\n          }  \n      }, [routineList]);\n\n      const routinesElement = routineList.map((routine, index) => \n      <div key={`routineId-${index}`}>\n          <h1> Routine: {routine.name} </h1>\n          <p>Goal: {routine.goal}</p>\n          <p>Creator: {routine.creatorName}</p>\n          {\n              routine.activities.map( activity => \n                  <div>\n                      <p>Activity Name: {activity.name}</p>\n                      <ul>Activity Description: {activity.description}</ul>\n                      <ul>Activity Duration: {activity.duration}</ul>\n                      <ul>Activity Count: {activity.count}</ul>\n                  </div>\n              )\n          }\n      </div>\n  )\n\n    return (\n        <div id=\"App\">\n            <h1>Public Routines</h1>\n            <p>If you want to modify routines, <Link to=\"/login\"> Login Here!</Link></p>\n            {routinesElement}\n        </div>\n    )\n};\n\nexport default Routines;","import React from 'react';\nimport { Route, Link, useHistory } from 'react-router-dom';\n\nconst Header = ({isLoggedIn, setToken}) => {\n    let history = useHistory();\n\n    function handleLogout(e) {\n        e.preventDefault();\n        localStorage.removeItem('token')\n        setToken(null)\n        history.push('/Home')\n    };\n\n    return (\n        <div>\n          <header>\n            <h1>Fitness Tracker</h1>\n          </header>\n         { \n            isLoggedIn ?\n           <nav className ='navBar'>\n              <ul>\n                  <Link to={\"/\"}> Home </Link>\n                  <Link to= {\"/Routines\"}> Routines </Link>\n                  <Link to= {\"/MyRoutines\"}> My Routines </Link>\n                  <Link to= {\"/Activities\"}> Activities </Link>\n                  <button onClick={handleLogout}>Logout</button>\n              </ul>\n            </nav> :\n             <nav>\n             <ul>\n                 <Link to={\"/\"}> Home </Link>\n                 <Link to= {\"/Routines\"}> Routines </Link>\n                 <Link to= {\"/Activities\"}> Activities </Link>\n                 <Link to={\"/Login\"}> Login </Link>\n                 <Link to={\"/Register\"}> Register </Link>\n             </ul>\n           </nav>\n         }\n        </div>\n  )\n};\n\nexport default Header;","import React, {useState, useEffect} from  'react';\nimport api from '../utilities/api';\n\nconst Activities = () => {\n\n    const [activityList, setActivityList] = useState([]);\n    const defaultState = {name: '', description: ''};\n    const [activity, setActivity] = useState(defaultState);\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n\n    useEffect( async function () {\n        try {\n            const data = await api.makeApiRequest('activities?limit=8', 'GET');\n            setActivityList(data);\n\n        }catch (error) {\n            console.error(error);\n          }},[activityList])\n\n          const activitiesElements = activityList.map((activity,i) => \n          <div key={`activitiesId-${i}`}>  \n          <h1> Activities </h1>\n          <h2> Name :{activity.name} </h2>\n          <p>description:{activity.description}</p>\n          </div>);\n\n    function handleChange(e, stateKey) {\n        if(stateKey === 'name') {\n            setName(e.target.value);\n        } else if (stateKey === 'description') {\n            setDescription(e.target.value);\n        }\n        const newState = {...activity};\n        let value = e.target.value;\n        newState[stateKey] = value;\n        setActivity(newState);\n    };\n\n    async function onSubmit(e) {\n        e.preventDefault();\n        await api.makeApiRequest('/activities', 'POST', activity);\n        history.push;\n\n        if(!'authorization'){\n            alert('Please log in before you post.')\n        }\n    };\n\n    return (\n    <div>\n        <div>\n            <form onSubmit={onSubmit}>\n                <div>\n                    <label>Activity:</label>\n                    <input onChange={e => handleChange(e, 'name')} value={activity.name} type=\"text\" />\n                </div>\n                <div>\n                    <label>Description:</label>\n                    <input onChange={e => handleChange(e, 'description')} value={activity.description} type=\"text\" />\n                </div>\n                <div>\n                    <button>Submit</button>\n                </div>\n            </form>\n            </div>\n            <div>\n               {activitiesElements}\n               <h1>Activities</h1>\n         </div>\n        </div>\n    )\n  };\n  \n  export default Activities;","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Route, Switch, Link } from 'react-router-dom';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport { Home, Register, Login, Routines, Header, Activities, RoutinesPost } from './components/index';\nimport  TokenUtilities from './utilities/token';\n\nconst App = () => {\n  const [token, setToken] = useState(localStorage.getItem('token'));\n  const [isLoggedIn, setIsLoggedIn] = useState(!!token)\n\n    useEffect(function() {\n        setIsLoggedIn(!!token);\n    }, [token]);\n\n  return (\n  <div id='App'>\n    <Header isLoggedIn={isLoggedIn} setToken={TokenUtilities.saveToken} />\n    <nav>\n      <ul>\n        <Link to=\"/\">Home</Link>\n        <Link to=\"/register\">Register</Link>\n        <Link to=\"/login\">Login</Link>\n        <Link to=\"/routines\">Routines</Link>\n        <Link to=\"/myroutines\">My Routines</Link>\n      </ul>\n    </nav>\n    <main>\n      <Switch> \n        <Route path=\"/Register\"><Register setToken={setToken} /></Route>\n        <Route path=\"/Login\"><Login setToken={setToken} /></Route>\n        <Route exact path=\"/\"><Home /></Route>\n        <Route path=\"/Routines\"><Routines /></Route>\n        <Route path=\"/Activities\"><Activities /></Route>\n        <Route path=\"MyRoutines\"><RoutinesPost /></Route>\n      </Switch>\n    </main>\n  </div>\n  )\n}\n\nReactDOM.render(\n    <Router><App /></Router>, \n    document.getElementById('app')\n);\n\nexport default App;"],"sourceRoot":""}